<ion-view view-title="呱呱二手">
    <ion-nav-buttons side="left">
        <a class="button button-icon icon ion-ios-arrow-back" href="#tab/index"></a>
    </ion-nav-buttons>
    <ion-content class="wf-post-form">
        <div class="row wf-img-upload">
            <div class="col box">
                <div class="goods-img-holder" ng-if="params.goods_pics.length > 0">
                    <img ng-src="{{params.goods_pics[0]}}" ng-click="removeGoodsPic(params.goods_pics[0])">
                    </img>
                    <span class="ion-backspace-outline button-balanced"></span>
                </div>
                <!-- <span class="goods-pic-del-badge" ng-if="params.goods_pics.length > 0"></span> -->
            </div>
            <div class="col group nopadding">
                <div class="row nopadding">
                    <div class="col box">
                        <div class="goods-img-holder" ng-if="params.goods_pics.length > 1">
                            <img ng-src="{{params.goods_pics[1]}}" ng-click="removeGoodsPic(params.goods_pics[1])" />
                            <span class="ion-backspace-outline button-balanced"></span>
                        </div>
                    </div>
                    <div class="col box">
                        <div class="goods-img-holder" ng-if="params.goods_pics.length > 2">
                            <img ng-src="{{params.goods_pics[2]}}" ng-click="removeGoodsPic(params.goods_pics[2])" />
                            <span class="ion-backspace-outline button-balanced"></span>
                        </div>
                    </div>
                </div>
                <div class="row nopadding">
                    <div class="col box">
                        <div class="goods-img-holder" ng-if="params.goods_pics.length > 3">
                            <img ng-src="{{params.goods_pics[3]}}" ng-click="removeGoodsPic(params.goods_pics[3])" />
                            <span class="ion-backspace-outline button-balanced"></span>
                        </div>
                    </div>
                    <div class="col box" ng-if="params.goods_pics.length > 4">
                        <div class="goods-img-holder">
                            <img ng-src="{{params.goods_pics[4]}}" ng-click="removeGoodsPic(params.goods_pics[4])" />
                            <span class="ion-backspace-outline button-balanced"></span>
                        </div>
                    </div>
                    <!-- at most, there are five images -->
                    <!-- if reach five images, hide the upload button -->
                    <div ng-if="params.goods_pics.length < 5" class="col box upload" id="uploadImg" ng-click="uploadImage()">
                        <i class="icon ion-plus"></i>
                    </div>
                </div>
            </div>
        </div>
        <ion-list>
            <ion-item>
                <ul class="tag-list">
                    <li ng-repeat="item in tagList" ng-class="item.value === params.tab ? 'active' : ''">
                        <a href="javascript:void(0)" ng-click="changeTab(item.value)">{{item.label}}</a>
                    </li>
                </ul>
            </ion-item>
            <ion-item>
                <ul class="quality-list">
                    <li ng-repeat="item in qualityList" ng-class="item === params.quality ? 'active' : ''">
                        <a href="javascript:void(0)" ng-click="changeQuality(item)">{{item}}</a>
                    </li>
                </ul>
            </ion-item>
        </ion-list>
        <div class="row">
            <div class="col">
                <label class="item item-input">
                    <span class="input-label">转让价</span>
                    <input type="text" placeholder="￥" ng-model="params.goods_now_price">
                </label>
            </div>
            <div class="col">
                <label class="item item-input">
                    <span class="input-label">原价</span>
                    <input type="text" placeholder="￥(非必填)" ng-model="params.goods_pre_price">
                </label>
            </div>
        </div>
        <div class="item item-toggle">
            <span>是否接受侃价</span>
            <label class="toggle toggle-royal">
                <input type="checkbox" ng-model="params.goods_is_bargain">
                <div class="track">
                    <div class="handle"></div>
                </div>
            </label>
        </div>
        <div class="item item-input">
            <span class="input-label">宝贝名称</span>
            <input style="text-align:right;" ng-model="params.title" type="text" placeholder="输入大于五个字的标题">
        </div>
        <div class="item item-icon-right" ng-click="openGoodsDespModal()">
            <span>宝贝描述</span>
            <span class="item-note">{{params.content}}</span>
            <i class="icon ion-chevron-right icon-accessory"></i>
        </div>
        <div class="item item-icon-right" href="javascript:void(0)" ng-click="changeLocationModal.show()">
            <span>交易地点</span>
            <span class="item-note">{{params.goods_exchange_location.user_edit_address}}</span>
            <i class="icon ion-location icon-accessory"></i>
        </div>
        <div class="padding">
            <button class="button button-block button-assertive" ng-click="submitGoods()">确定发布</button>
        </div>
    </ion-content>
</ion-view>
